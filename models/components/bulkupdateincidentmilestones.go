// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/firehydrant/firehydrant-go-sdk/internal/utils"
	"time"
)

type Bulk string

const (
	BulkTrue Bulk = "true"
)

func (e Bulk) ToPointer() *Bulk {
	return &e
}
func (e *Bulk) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "true":
		*e = Bulk(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Bulk: %v", v)
	}
}

type BulkUpdateIncidentMilestonesMilestone struct {
	// The type/slug of the milestone. Must be one of the currently configured milestones for the given incident.
	Type string `json:"type"`
	// An ISO8601 formatted string for when this milestone occurred. If you are removing a milestone, this field still needs to be set to some value
	OccurredAt time.Time `json:"occurred_at"`
	// If set to true, the milestone will be removed from the incident
	Remove *bool `json:"remove,omitzero"`
}

func (b BulkUpdateIncidentMilestonesMilestone) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(b, "", false)
}

func (b *BulkUpdateIncidentMilestonesMilestone) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &b, "", false, []string{"type", "occurred_at"}); err != nil {
		return err
	}
	return nil
}

func (b *BulkUpdateIncidentMilestonesMilestone) GetType() string {
	if b == nil {
		return ""
	}
	return b.Type
}

func (b *BulkUpdateIncidentMilestonesMilestone) GetOccurredAt() time.Time {
	if b == nil {
		return time.Time{}
	}
	return b.OccurredAt
}

func (b *BulkUpdateIncidentMilestonesMilestone) GetRemove() *bool {
	if b == nil {
		return nil
	}
	return b.Remove
}

// BulkUpdateIncidentMilestones - Update milestone times in bulk for a given incident. All milestone
// times for an incident must occur in chronological order
// corresponding to the configured order of milestones. If the result
// of this request would cause any milestone(s) to appear out of place,
// a 422 response will instead be returned. This includes milestones
// not explicitly submitted or updated in this request.
type BulkUpdateIncidentMilestones struct {
	Bulk       *Bulk                                   `json:"bulk,omitzero"`
	Milestones []BulkUpdateIncidentMilestonesMilestone `json:"milestones"`
}

func (b *BulkUpdateIncidentMilestones) GetBulk() *Bulk {
	if b == nil {
		return nil
	}
	return b.Bulk
}

func (b *BulkUpdateIncidentMilestones) GetMilestones() []BulkUpdateIncidentMilestonesMilestone {
	if b == nil {
		return []BulkUpdateIncidentMilestonesMilestone{}
	}
	return b.Milestones
}
