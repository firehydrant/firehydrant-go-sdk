// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package components

import (
	"encoding/json"
	"fmt"
	"github.com/firehydrant/firehydrant-go-sdk/internal/utils"
)

// UpdateSignalsEmailTargetType - The type of target that the inbound email will notify when matched.
type UpdateSignalsEmailTargetType string

const (
	UpdateSignalsEmailTargetTypeTeam                  UpdateSignalsEmailTargetType = "Team"
	UpdateSignalsEmailTargetTypeEntireTeam            UpdateSignalsEmailTargetType = "EntireTeam"
	UpdateSignalsEmailTargetTypeEscalationPolicy      UpdateSignalsEmailTargetType = "EscalationPolicy"
	UpdateSignalsEmailTargetTypeOnCallSchedule        UpdateSignalsEmailTargetType = "OnCallSchedule"
	UpdateSignalsEmailTargetTypeUser                  UpdateSignalsEmailTargetType = "User"
	UpdateSignalsEmailTargetTypeSlackChannel          UpdateSignalsEmailTargetType = "SlackChannel"
	UpdateSignalsEmailTargetTypeMicrosoftTeamsChannel UpdateSignalsEmailTargetType = "MicrosoftTeamsChannel"
	UpdateSignalsEmailTargetTypeWebhook               UpdateSignalsEmailTargetType = "Webhook"
)

func (e UpdateSignalsEmailTargetType) ToPointer() *UpdateSignalsEmailTargetType {
	return &e
}
func (e *UpdateSignalsEmailTargetType) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "Team":
		fallthrough
	case "EntireTeam":
		fallthrough
	case "EscalationPolicy":
		fallthrough
	case "OnCallSchedule":
		fallthrough
	case "User":
		fallthrough
	case "SlackChannel":
		fallthrough
	case "MicrosoftTeamsChannel":
		fallthrough
	case "Webhook":
		*e = UpdateSignalsEmailTargetType(v)
		return nil
	default:
		return fmt.Errorf("invalid value for UpdateSignalsEmailTargetType: %v", v)
	}
}

// UpdateSignalsEmailTargetTarget - The target that the email target will notify. This object must contain a `type`
// field that specifies the type of target and an `id` field that specifies the ID of
// the target. The `type` field must be one of "escalation_policy", "on_call_schedule",
// "team", "user", or "slack_channel".
type UpdateSignalsEmailTargetTarget struct {
	// The type of target that the inbound email will notify when matched.
	Type UpdateSignalsEmailTargetType `json:"type"`
	// The ID of the target that the inbound email will notify when matched.
	ID string `json:"id"`
}

func (u *UpdateSignalsEmailTargetTarget) GetType() UpdateSignalsEmailTargetType {
	if u == nil {
		return UpdateSignalsEmailTargetType("")
	}
	return u.Type
}

func (u *UpdateSignalsEmailTargetTarget) GetID() string {
	if u == nil {
		return ""
	}
	return u.ID
}

// UpdateSignalsEmailTargetRuleMatchingStrategy - Whether or not all rules must match, or if only one rule must match.
type UpdateSignalsEmailTargetRuleMatchingStrategy string

const (
	UpdateSignalsEmailTargetRuleMatchingStrategyAll UpdateSignalsEmailTargetRuleMatchingStrategy = "all"
	UpdateSignalsEmailTargetRuleMatchingStrategyAny UpdateSignalsEmailTargetRuleMatchingStrategy = "any"
)

func (e UpdateSignalsEmailTargetRuleMatchingStrategy) ToPointer() *UpdateSignalsEmailTargetRuleMatchingStrategy {
	return &e
}
func (e *UpdateSignalsEmailTargetRuleMatchingStrategy) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "all":
		fallthrough
	case "any":
		*e = UpdateSignalsEmailTargetRuleMatchingStrategy(v)
		return nil
	default:
		return fmt.Errorf("invalid value for UpdateSignalsEmailTargetRuleMatchingStrategy: %v", v)
	}
}

// UpdateSignalsEmailTarget - Update a Signals email target by ID
type UpdateSignalsEmailTarget struct {
	// The email target's name.
	Name *string `json:"name,omitzero"`
	// The email address that will be listening to events.
	Slug *string `json:"slug,omitzero"`
	// A detailed description of the email target.
	Description *string `json:"description,omitzero"`
	// The target that the email target will notify. This object must contain a `type`
	// field that specifies the type of target and an `id` field that specifies the ID of
	// the target. The `type` field must be one of "escalation_policy", "on_call_schedule",
	// "team", "user", or "slack_channel".
	//
	Target *UpdateSignalsEmailTargetTarget `json:"target,omitzero"`
	// A list of email addresses that are allowed to send events to the target. Must be exact match.
	AllowedSenders []string `json:"allowed_senders,omitzero"`
	// The CEL expression that defines the status of an incoming email that is sent to the target.
	StatusCel *string `json:"status_cel,omitzero"`
	// The CEL expression that defines the level of an incoming email that is sent to the target.
	LevelCel *string `json:"level_cel,omitzero"`
	// A list of CEL expressions that should be evaluated and matched to determine if the target should be notified.
	Rules []string `json:"rules,omitzero"`
	// Whether or not all rules must match, or if only one rule must match.
	RuleMatchingStrategy *UpdateSignalsEmailTargetRuleMatchingStrategy `json:"rule_matching_strategy,omitzero"`
}

func (u UpdateSignalsEmailTarget) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(u, "", false)
}

func (u *UpdateSignalsEmailTarget) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &u, "", false, nil); err != nil {
		return err
	}
	return nil
}

func (u *UpdateSignalsEmailTarget) GetName() *string {
	if u == nil {
		return nil
	}
	return u.Name
}

func (u *UpdateSignalsEmailTarget) GetSlug() *string {
	if u == nil {
		return nil
	}
	return u.Slug
}

func (u *UpdateSignalsEmailTarget) GetDescription() *string {
	if u == nil {
		return nil
	}
	return u.Description
}

func (u *UpdateSignalsEmailTarget) GetTarget() *UpdateSignalsEmailTargetTarget {
	if u == nil {
		return nil
	}
	return u.Target
}

func (u *UpdateSignalsEmailTarget) GetAllowedSenders() []string {
	if u == nil {
		return nil
	}
	return u.AllowedSenders
}

func (u *UpdateSignalsEmailTarget) GetStatusCel() *string {
	if u == nil {
		return nil
	}
	return u.StatusCel
}

func (u *UpdateSignalsEmailTarget) GetLevelCel() *string {
	if u == nil {
		return nil
	}
	return u.LevelCel
}

func (u *UpdateSignalsEmailTarget) GetRules() []string {
	if u == nil {
		return nil
	}
	return u.Rules
}

func (u *UpdateSignalsEmailTarget) GetRuleMatchingStrategy() *UpdateSignalsEmailTargetRuleMatchingStrategy {
	if u == nil {
		return nil
	}
	return u.RuleMatchingStrategy
}
